<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Fri Feb 15 10:06:09 EET 2013 -->
<TITLE>
Queries
</TITLE>

<META NAME="date" CONTENT="2013-02-15">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Queries";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Queries.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../db/ConditionalAccess.html" title="class in db"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../db/ReceiversCommon.html" title="class in db"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?db/Queries.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Queries.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
db</FONT>
<BR>
Class Queries</H2>
<PRE>
java.lang.Object
  <IMG SRC="../resources/inherit.gif" ALT="extended by "><B>db.Queries</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>Queries</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Elementary helper PostgreSQL database operations for accessing the routine_db from a single session
 <p>This class is heavily used by the REST services of ActivityLogger. These methods also call each other in some cases.</p>
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#LAUNCH_TIME_NOT_USED">LAUNCH_TIME_NOT_USED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error message for using a "deprecated" device meta data field when adding a user routine the old way.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../db/Queries.html#Queries()">Queries</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#deleteApplication(java.sql.Connection, long)">deleteApplication</A></B>(java.sql.Connection&nbsp;connection,
                  long&nbsp;appId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove an application record from the routine_db application table</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#deleteDevice(java.sql.Connection, long)">deleteDevice</A></B>(java.sql.Connection&nbsp;connection,
             long&nbsp;deviceId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a device record from the routine_db devices table</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#deleteLoggerApplication(java.sql.Connection, long)">deleteLoggerApplication</A></B>(java.sql.Connection&nbsp;connection,
                        long&nbsp;loggerApplicationId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a logger application record from the routine_db logger_applications table</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#deleteRawMeasurement(java.sql.Connection, long)">deleteRawMeasurement</A></B>(java.sql.Connection&nbsp;connection,
                     long&nbsp;measurementId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a raw measurement record from the routine_db raw_measurements table</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#deleteRoutineClassById(java.sql.Connection, long)">deleteRoutineClassById</A></B>(java.sql.Connection&nbsp;connection,
                       long&nbsp;routineClassId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a routine class record from the routine_db routine classes table</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#deleteUserRoutine(java.sql.Connection, long)">deleteUserRoutine</A></B>(java.sql.Connection&nbsp;connection,
                  long&nbsp;userRoutinesId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a user routine record from the routine_db user_routines table</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#executeSql(java.sql.Connection, java.lang.String)">executeSql</A></B>(java.sql.Connection&nbsp;connection,
           java.lang.String&nbsp;sql)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run the provided SQL sequence</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../fi/vtt/routinelib/common/Application.html" title="class in fi.vtt.routinelib.common">Application</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findApplicationById(java.sql.Connection, long)">findApplicationById</A></B>(java.sql.Connection&nbsp;connection,
                    long&nbsp;appId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the record of an existing application as a Java object from the application table of the routine_db data base</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../fi/vtt/activitylogger/Application.html" title="class in fi.vtt.activitylogger">Application</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findApplicationByName(java.sql.Connection, java.lang.String)">findApplicationByName</A></B>(java.sql.Connection&nbsp;connection,
                      java.lang.String&nbsp;applicationName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the first Jersey REST API compliant Application object found from the database</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findApplicationId(java.sql.Connection, java.lang.String, java.lang.String)">findApplicationId</A></B>(java.sql.Connection&nbsp;connection,
                  java.lang.String&nbsp;name,
                  java.lang.String&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the record id of an existing application record from the application table of the routine_db data base</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../fi/vtt/activitylogger/Device.html" title="class in fi.vtt.activitylogger">Device</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findDevice(java.sql.Connection, java.lang.String)">findDevice</A></B>(java.sql.Connection&nbsp;connection,
           java.lang.String&nbsp;deviceName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get an existing device record from the devices table of the routine_db data base</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findLoggerApplication(java.sql.Connection, java.lang.String)">findLoggerApplication</A></B>(java.sql.Connection&nbsp;connection,
                      java.lang.String&nbsp;loggerApplicationName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetch details of the named logger application from the database and create an instance
  (note that logger application is not tied to any specific device in the database!)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../fi/vtt/activitylogger/Mcc.html" title="class in fi.vtt.activitylogger">Mcc</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findMcc(java.sql.Connection, int)">findMcc</A></B>(java.sql.Connection&nbsp;connection,
        int&nbsp;code)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find mcc (mobile country code) details by its number from the routine_db database</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../fi/vtt/activitylogger/RawMeasurement.html" title="class in fi.vtt.activitylogger">RawMeasurement</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findRawMeasurementById(java.sql.Connection, long)">findRawMeasurementById</A></B>(java.sql.Connection&nbsp;connection,
                       long&nbsp;measurement_id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find measurement by its id from the routine_db database</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findRoutineClass(java.sql.Connection, int, java.lang.String, java.lang.String)">findRoutineClass</A></B>(java.sql.Connection&nbsp;connection,
                 int&nbsp;typeId,
                 java.lang.String&nbsp;routineClassName,
                 java.lang.String&nbsp;deviceName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetch details of the named routine class from the database and return a Java instance of them</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findRoutineClassById(java.sql.Connection, int)">findRoutineClassById</A></B>(java.sql.Connection&nbsp;connection,
                     int&nbsp;routineClassId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find routine class by its id from the routine_db database</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#findUserRoutineById(java.sql.Connection, long)">findUserRoutineById</A></B>(java.sql.Connection&nbsp;connection,
                    long&nbsp;userRoutineId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find a (momentary) user routine record by its id from the routine_db database with full context data from other DB tables</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.List&lt;<A HREF="../fi/vtt/activitylogger/Application.html" title="class in fi.vtt.activitylogger">Application</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#getAllApplications(java.sql.Connection)">getAllApplications</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a list of all applications from the routine database, to be returned by the ...</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.List&lt;<A HREF="../fi/vtt/activitylogger/Device.html" title="class in fi.vtt.activitylogger">Device</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#getAllDevices(java.sql.Connection, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">getAllDevices</A></B>(java.sql.Connection&nbsp;connection,
              java.lang.String&nbsp;deviceName,
              java.lang.String&nbsp;loggerApplicationName,
              java.lang.String&nbsp;startTime,
              java.lang.String&nbsp;endTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a list of all devices (users) from the routine database, to be returned by the ...</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.List&lt;<A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#getAllLoggerApplications(java.sql.Connection)">getAllLoggerApplications</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a list of all logger applications from the routine database, to be returned by the ...</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.List&lt;<A HREF="../fi/vtt/activitylogger/Mcc.html" title="class in fi.vtt.activitylogger">Mcc</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#getAllMccs(java.sql.Connection)">getAllMccs</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.List&lt;<A HREF="../fi/vtt/activitylogger/RawMeasurement.html" title="class in fi.vtt.activitylogger">RawMeasurement</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#getAllRawMeasurements(java.sql.Connection)">getAllRawMeasurements</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a list of all raw measurements (resolving references to other tables) from the routine database, to be returned by the
  ...</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.List&lt;<A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#getAllRoutineClasses(java.sql.Connection)">getAllRoutineClasses</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a list of all routine classes (resolving references to other tables) from the routine database, to be returned by the
  ...</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.List&lt;<A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#getAllUserRoutines(java.sql.Connection)">getAllUserRoutines</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#hasApplication(java.sql.Connection, java.lang.String, java.lang.String)">hasApplication</A></B>(java.sql.Connection&nbsp;connection,
               java.lang.String&nbsp;name,
               java.lang.String&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check for an existing application record from the application table of the routine_db data base</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#hasDevice(java.sql.Connection, java.lang.String)">hasDevice</A></B>(java.sql.Connection&nbsp;connection,
          java.lang.String&nbsp;deviceName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check for an existing device record from the devices table of the routine_db data base</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#hasLoggerApplication(java.sql.Connection, java.lang.String)">hasLoggerApplication</A></B>(java.sql.Connection&nbsp;connection,
                     java.lang.String&nbsp;loggerApplicationName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check for an existing logger application record from the logger_applications table of the routine_db data base</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#hasRoutineClass(java.sql.Connection, fi.vtt.activitylogger.RoutineClass)">hasRoutineClass</A></B>(java.sql.Connection&nbsp;connection,
                <A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A>&nbsp;routineClass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check for an existing routine class record from the routine_classes table of the routine_db data base</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertApplication(java.sql.Connection, fi.vtt.routinelib.common.Application)">insertApplication</A></B>(java.sql.Connection&nbsp;connection,
                  <A HREF="../fi/vtt/routinelib/common/Application.html" title="class in fi.vtt.routinelib.common">Application</A>&nbsp;application)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert a new application record into the application table of the routine_db</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertBasicRawData(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RawLogData)">insertBasicRawData</A></B>(java.sql.Connection&nbsp;connection,
                   long&nbsp;deviceId,
                   <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApp,
                   <A HREF="../fi/vtt/routinelib/common/RawLogData.html" title="class in fi.vtt.routinelib.common">RawLogData</A>&nbsp;rawLogData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert raw data (but without the list of running applications) into the raw_measurements table in the routine DB</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertDevice(java.sql.Connection, fi.vtt.activitylogger.Device)">insertDevice</A></B>(java.sql.Connection&nbsp;connection,
             <A HREF="../fi/vtt/activitylogger/Device.html" title="class in fi.vtt.activitylogger">Device</A>&nbsp;device)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert a new device record into the devices table of the routine_db</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertLoggerApplication(java.sql.Connection, fi.vtt.activitylogger.LoggerApplication)">insertLoggerApplication</A></B>(java.sql.Connection&nbsp;connection,
                        <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert a new logger application record into the logger_applications table of the routine_db</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertMeasurementApplication(java.sql.Connection, long, long)">insertMeasurementApplication</A></B>(java.sql.Connection&nbsp;connection,
                             long&nbsp;measurementId,
                             long&nbsp;applicationId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert a new measurement application record into the measurement_applications table of the routine_db
  (this table ties many applications to a single raw measurement)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertNewLearnedRoutine(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RoutineData)">insertNewLearnedRoutine</A></B>(java.sql.Connection&nbsp;connection,
                        long&nbsp;deviceId,
                        <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApplication,
                        <A HREF="../fi/vtt/routinelib/common/RoutineData.html" title="class in fi.vtt.routinelib.common">RoutineData</A>&nbsp;routineData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A method stub for adding a new learned (user defined) routine and a corresponding routine class into the routine_db database</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertNewRecogizedRoutine(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RoutineData)">insertNewRecogizedRoutine</A></B>(java.sql.Connection&nbsp;connection,
                          long&nbsp;deviceId,
                          <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApplication,
                          <A HREF="../fi/vtt/routinelib/common/RoutineData.html" title="class in fi.vtt.routinelib.common">RoutineData</A>&nbsp;routineData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A method stub for adding a new entry for a previously leaned (user defined) routine into the routine_db database</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertRawMeasurement(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RawLogData)">insertRawMeasurement</A></B>(java.sql.Connection&nbsp;connection,
                     long&nbsp;deviceId,
                     <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApp,
                     <A HREF="../fi/vtt/routinelib/common/RawLogData.html" title="class in fi.vtt.routinelib.common">RawLogData</A>&nbsp;rawLogData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert raw data (including the list of running applications) into the raw_measurements table in the routine DB</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertRoutineClass(java.sql.Connection, fi.vtt.activitylogger.RoutineClass)">insertRoutineClass</A></B>(java.sql.Connection&nbsp;connection,
                   <A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A>&nbsp;routineClass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert a new routine class into the routine DB</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertUserRoutine(java.sql.Connection, long, fi.vtt.activitylogger.UserRoutine)">insertUserRoutine</A></B>(java.sql.Connection&nbsp;connection,
                  long&nbsp;deviceId,
                  <A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&nbsp;userRoutine)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Older way to insert user routine data into the database (not fully compliant with the intended routine_db use)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#insertUserRoutine(java.sql.Connection, fi.vtt.activitylogger.UserRoutine)">insertUserRoutine</A></B>(java.sql.Connection&nbsp;connection,
                  <A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&nbsp;userRoutine)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert a POSTed (...</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.List&lt;<A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../db/Queries.html#testInsertUserRoutine(java.sql.Connection, fi.vtt.activitylogger.UserRoutine)">testInsertUserRoutine</A></B>(java.sql.Connection&nbsp;connection,
                      <A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&nbsp;userRoutine)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test inserting a POSTed (...</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="LAUNCH_TIME_NOT_USED"><!-- --></A><H3>
LAUNCH_TIME_NOT_USED</H3>
<PRE>
public static final java.lang.String <B>LAUNCH_TIME_NOT_USED</B></PRE>
<DL>
<DD>Error message for using a "deprecated" device meta data field when adding a user routine the old way.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#db.Queries.LAUNCH_TIME_NOT_USED">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Queries()"><!-- --></A><H3>
Queries</H3>
<PRE>
public <B>Queries</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="hasDevice(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
hasDevice</H3>
<PRE>
public static boolean <B>hasDevice</B>(java.sql.Connection&nbsp;connection,
                                java.lang.String&nbsp;deviceName)
                         throws java.sql.SQLException</PRE>
<DL>
<DD>Check for an existing device record from the devices table of the routine_db data base
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>deviceName</CODE> - Name of the searched device (user). Usually a SHA1 hash.
<DT><B>Returns:</B><DD>true, if found, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="insertDevice(java.sql.Connection, fi.vtt.activitylogger.Device)"><!-- --></A><H3>
insertDevice</H3>
<PRE>
public static boolean <B>insertDevice</B>(java.sql.Connection&nbsp;connection,
                                   <A HREF="../fi/vtt/activitylogger/Device.html" title="class in fi.vtt.activitylogger">Device</A>&nbsp;device)
                            throws java.sql.SQLException</PRE>
<DL>
<DD>Insert a new device record into the devices table of the routine_db
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>device</CODE> - Java object containing the device record values.
<DT><B>Returns:</B><DD>true, if insertion was successful, false otherwise (also if the exact record already existed as the records assume uniqueness).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="findDevice(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
findDevice</H3>
<PRE>
public static <A HREF="../fi/vtt/activitylogger/Device.html" title="class in fi.vtt.activitylogger">Device</A> <B>findDevice</B>(java.sql.Connection&nbsp;connection,
                                java.lang.String&nbsp;deviceName)
                         throws java.sql.SQLException</PRE>
<DL>
<DD>Get an existing device record from the devices table of the routine_db data base
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>deviceName</CODE> - Name of the searched device (user). Usually a SHA1 hash.
<DT><B>Returns:</B><DD>Java object containing the device record values. Null is returned if the device is not found or some other error happens.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteDevice(java.sql.Connection, long)"><!-- --></A><H3>
deleteDevice</H3>
<PRE>
public static boolean <B>deleteDevice</B>(java.sql.Connection&nbsp;connection,
                                   long&nbsp;deviceId)
                            throws java.sql.SQLException</PRE>
<DL>
<DD>Remove a device record from the routine_db devices table
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>deviceId</CODE> - Value of the devices.device_id field in the DB record.
<DT><B>Returns:</B><DD>true, if removed, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="getAllDevices(java.sql.Connection, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
getAllDevices</H3>
<PRE>
public static java.util.List&lt;<A HREF="../fi/vtt/activitylogger/Device.html" title="class in fi.vtt.activitylogger">Device</A>&gt; <B>getAllDevices</B>(java.sql.Connection&nbsp;connection,
                                                   java.lang.String&nbsp;deviceName,
                                                   java.lang.String&nbsp;loggerApplicationName,
                                                   java.lang.String&nbsp;startTime,
                                                   java.lang.String&nbsp;endTime)
                                            throws java.sql.SQLException</PRE>
<DL>
<DD>Get a list of all devices (users) from the routine database, to be returned by the .../rest/devices REST URL
 <p>
  Empty or null search parameters are ignored. Timestamp formats: PostgreSQL 2012-09-06 13:13:30.913+03 and ISO 8601 2012-09-06T13:13:30.913+03.
  Verify strings before insertion to avoid SQL injection attacks. Timestamps are protected already. All strings are inserted with
  <em>preparedStatement.setString()</em> methods.
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - The PostgreSQL 9.0/9.1 routine database connection.<DD><CODE>deviceName</CODE> - Limit results of the search only devices belonging to this user (only returns the same instance). Null or empty give all.<DD><CODE>loggerApplicationName</CODE> - Limit results of the search only to logging context of the device/user. Null or empty give all.<DD><CODE>startTime</CODE> - PostgreSQL/ISO8601 timestamp to limit returned devices to those added at the same or newer time than the given time.<DD><CODE>endTime</CODE> - PostgreSQL/ISO8601 timestamp to limit returned devices to those added at the same or newer time than the given time.
<DT><B>Returns:</B><DD>A list of found devices (may be empty if none was found).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If problems arose with the query.</DL>
</DD>
</DL>
<HR>

<A NAME="hasLoggerApplication(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
hasLoggerApplication</H3>
<PRE>
public static boolean <B>hasLoggerApplication</B>(java.sql.Connection&nbsp;connection,
                                           java.lang.String&nbsp;loggerApplicationName)
                                    throws java.sql.SQLException</PRE>
<DL>
<DD>Check for an existing logger application record from the logger_applications table of the routine_db data base
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>loggerApplicationName</CODE> - Name of the searched logger application.
<DT><B>Returns:</B><DD>true, if found, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="insertLoggerApplication(java.sql.Connection, fi.vtt.activitylogger.LoggerApplication)"><!-- --></A><H3>
insertLoggerApplication</H3>
<PRE>
public static boolean <B>insertLoggerApplication</B>(java.sql.Connection&nbsp;connection,
                                              <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApp)
                                       throws java.sql.SQLException</PRE>
<DL>
<DD>Insert a new logger application record into the logger_applications table of the routine_db
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - PostgreSQL connection.<DD><CODE>loggerApp</CODE> - The friendly name of the application that provides the routine data. Enables having multiple user/profiles per device.
<DT><B>Returns:</B><DD>true, if insertion was successful, false otherwise (also if the exact record already existed as the records assume uniqueness).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="findLoggerApplication(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
findLoggerApplication</H3>
<PRE>
public static <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A> <B>findLoggerApplication</B>(java.sql.Connection&nbsp;connection,
                                                      java.lang.String&nbsp;loggerApplicationName)
                                               throws java.sql.SQLException</PRE>
<DL>
<DD>Fetch details of the named logger application from the database and create an instance
  (note that logger application is not tied to any specific device in the database!)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - A postgreSQL database connection to the routine tables.<DD><CODE>loggerApplicationName</CODE> - A routine database wide identifier for a data logger application (context).
<DT><B>Returns:</B><DD>A new LoggerApplication object initialized with the values taken from the database. Null is returned if the name was not found.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If database errors take place.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteLoggerApplication(java.sql.Connection, long)"><!-- --></A><H3>
deleteLoggerApplication</H3>
<PRE>
public static boolean <B>deleteLoggerApplication</B>(java.sql.Connection&nbsp;connection,
                                              long&nbsp;loggerApplicationId)
                                       throws java.sql.SQLException</PRE>
<DL>
<DD>Remove a logger application record from the routine_db logger_applications table
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - PostgreSQL connection.<DD><CODE>loggerApplicationId</CODE> - Value of the logger_applications.logger_application_id field in the DB record.
<DT><B>Returns:</B><DD>true, if removed, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="getAllLoggerApplications(java.sql.Connection)"><!-- --></A><H3>
getAllLoggerApplications</H3>
<PRE>
public static java.util.List&lt;<A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&gt; <B>getAllLoggerApplications</B>(java.sql.Connection&nbsp;connection)
                                                                  throws java.sql.SQLException</PRE>
<DL>
<DD>Get a list of all logger applications from the routine database, to be returned by the .../rest/logger_applications REST URL
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - The PostgreSQL 9.0/9.1 routine database connection.
<DT><B>Returns:</B><DD>A list of found logger applications (may be empty if none was found).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If problems arose with the query.</DL>
</DD>
</DL>
<HR>

<A NAME="hasApplication(java.sql.Connection, java.lang.String, java.lang.String)"><!-- --></A><H3>
hasApplication</H3>
<PRE>
public static boolean <B>hasApplication</B>(java.sql.Connection&nbsp;connection,
                                     java.lang.String&nbsp;name,
                                     java.lang.String&nbsp;className)
                              throws java.sql.SQLException</PRE>
<DL>
<DD>Check for an existing application record from the application table of the routine_db data base
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>name</CODE> - Name of the searched application. It may be any of the applications that the user has run in his device.<DD><CODE>className</CODE> - The Java package and class name of the application.
<DT><B>Returns:</B><DD>true, if found, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="insertApplication(java.sql.Connection, fi.vtt.routinelib.common.Application)"><!-- --></A><H3>
insertApplication</H3>
<PRE>
public static boolean <B>insertApplication</B>(java.sql.Connection&nbsp;connection,
                                        <A HREF="../fi/vtt/routinelib/common/Application.html" title="class in fi.vtt.routinelib.common">Application</A>&nbsp;application)
                                 throws java.sql.SQLException</PRE>
<DL>
<DD>Insert a new application record into the application table of the routine_db
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>application</CODE> - Java object containing the application record values.
<DT><B>Returns:</B><DD>true, if insertion was successful, false otherwise (also if the exact record already existed as the records assume uniqueness).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="findApplicationId(java.sql.Connection, java.lang.String, java.lang.String)"><!-- --></A><H3>
findApplicationId</H3>
<PRE>
public static long <B>findApplicationId</B>(java.sql.Connection&nbsp;connection,
                                     java.lang.String&nbsp;name,
                                     java.lang.String&nbsp;className)
                              throws java.sql.SQLException</PRE>
<DL>
<DD>Get the record id of an existing application record from the application table of the routine_db data base
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>name</CODE> - Name of the application.<DD><CODE>className</CODE> - The Java package and class name of the application.
<DT><B>Returns:</B><DD>The value of the field application.application_id corresponding to the search parameter values, or -1 if not found.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="findApplicationById(java.sql.Connection, long)"><!-- --></A><H3>
findApplicationById</H3>
<PRE>
public static <A HREF="../fi/vtt/routinelib/common/Application.html" title="class in fi.vtt.routinelib.common">Application</A> <B>findApplicationById</B>(java.sql.Connection&nbsp;connection,
                                              long&nbsp;appId)
                                       throws java.sql.SQLException</PRE>
<DL>
<DD>Get the record of an existing application as a Java object from the application table of the routine_db data base
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>appId</CODE> - Value of the application.application_id field in the DB record.
<DT><B>Returns:</B><DD>Java object containing the application record values. Null is returned if the application is not found or some other error happens.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="findApplicationByName(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
findApplicationByName</H3>
<PRE>
public static <A HREF="../fi/vtt/activitylogger/Application.html" title="class in fi.vtt.activitylogger">Application</A> <B>findApplicationByName</B>(java.sql.Connection&nbsp;connection,
                                                java.lang.String&nbsp;applicationName)
                                         throws java.sql.SQLException</PRE>
<DL>
<DD>Get the first Jersey REST API compliant Application object found from the database
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - PostgreSQL database connection.<DD><CODE>applicationName</CODE> - Name of the application stored in the database (may not be unique!).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteApplication(java.sql.Connection, long)"><!-- --></A><H3>
deleteApplication</H3>
<PRE>
public static boolean <B>deleteApplication</B>(java.sql.Connection&nbsp;connection,
                                        long&nbsp;appId)
                                 throws java.sql.SQLException</PRE>
<DL>
<DD>Remove an application record from the routine_db application table
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>appId</CODE> - Value of the application.application_id field in the DB record.
<DT><B>Returns:</B><DD>true, if removed, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="getAllApplications(java.sql.Connection)"><!-- --></A><H3>
getAllApplications</H3>
<PRE>
public static java.util.List&lt;<A HREF="../fi/vtt/activitylogger/Application.html" title="class in fi.vtt.activitylogger">Application</A>&gt; <B>getAllApplications</B>(java.sql.Connection&nbsp;connection)
                                                      throws java.sql.SQLException</PRE>
<DL>
<DD>Get a list of all applications from the routine database, to be returned by the .../rest/applications REST URL
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - The PostgreSQL 9.0/9.1 routine database connection.
<DT><B>Returns:</B><DD>A list of found applications (may be empty if none was found).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If problems arose with the query.
 <p>
  <b>Note:</b>
  This method uses class <em>fi.vtt.activitylogger.Application</em> instead of <em>fi.vtt.routinelib.common.Application</em>
  (to support Jersey REST API)! The classes should be unified in the future?
 </p></DL>
</DD>
</DL>
<HR>

<A NAME="insertBasicRawData(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RawLogData)"><!-- --></A><H3>
insertBasicRawData</H3>
<PRE>
public static long <B>insertBasicRawData</B>(java.sql.Connection&nbsp;connection,
                                      long&nbsp;deviceId,
                                      <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApp,
                                      <A HREF="../fi/vtt/routinelib/common/RawLogData.html" title="class in fi.vtt.routinelib.common">RawLogData</A>&nbsp;rawLogData)
                               throws java.sql.SQLException</PRE>
<DL>
<DD>Insert raw data (but without the list of running applications) into the raw_measurements table in the routine DB
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>deviceId</CODE> - Value of the device_id_fk in the DB record, pointing to devices.device_id field.<DD><CODE>loggerApp</CODE> - The logger application record values as a Java object (REST compliant version of the class).<DD><CODE>rawLogData</CODE> - Most of the raw_measurements record values as a Java object.
<DT><B>Returns:</B><DD>raw_measurements.measurement_id for just inserted row
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.<DT><B>See Also:</B><DD><A HREF="../db/Queries.html#insertRawMeasurement(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RawLogData)"><CODE><p>raw_measurements.measurement_timestamp will get the value now(), i.e., the time of insertion into the database.</p>
 <p>This method is called by insertRawMeasurement().</p></CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="insertRawMeasurement(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RawLogData)"><!-- --></A><H3>
insertRawMeasurement</H3>
<PRE>
public static long <B>insertRawMeasurement</B>(java.sql.Connection&nbsp;connection,
                                        long&nbsp;deviceId,
                                        <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApp,
                                        <A HREF="../fi/vtt/routinelib/common/RawLogData.html" title="class in fi.vtt.routinelib.common">RawLogData</A>&nbsp;rawLogData)
                                 throws java.sql.SQLException</PRE>
<DL>
<DD>Insert raw data (including the list of running applications) into the raw_measurements table in the routine DB
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>deviceId</CODE> - Value of the device_id_fk in the DB record, pointing to devices.device_id field.<DD><CODE>loggerApp</CODE> - The logger application record values as a Java object (REST compliant version of the class).<DD><CODE>rawLogData</CODE> - Most of the raw_measurements record values as a Java object.
<DT><B>Returns:</B><DD>raw_measurements.measurement_id for just inserted row.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.<DT><B>See Also:</B><DD><A HREF="../db/Queries.html#insertBasicRawData(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RawLogData)"><CODE>Is called from this method. 
 <p>This method calls insertBasicRawData().</p></CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="findRawMeasurementById(java.sql.Connection, long)"><!-- --></A><H3>
findRawMeasurementById</H3>
<PRE>
public static <A HREF="../fi/vtt/activitylogger/RawMeasurement.html" title="class in fi.vtt.activitylogger">RawMeasurement</A> <B>findRawMeasurementById</B>(java.sql.Connection&nbsp;connection,
                                                    long&nbsp;measurement_id)
                                             throws java.sql.SQLException</PRE>
<DL>
<DD>Find measurement by its id from the routine_db database
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - PostgreSQL database connection.<DD><CODE>measurement_id</CODE> - Database id of a raw measurement row.
<DT><B>Returns:</B><DD>The raw measurement record values as a Java object (REST compliant version of the class).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteRawMeasurement(java.sql.Connection, long)"><!-- --></A><H3>
deleteRawMeasurement</H3>
<PRE>
public static boolean <B>deleteRawMeasurement</B>(java.sql.Connection&nbsp;connection,
                                           long&nbsp;measurementId)
                                    throws java.sql.SQLException</PRE>
<DL>
<DD>Remove a raw measurement record from the routine_db raw_measurements table
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>measurementId</CODE> - Value of the raw_measurements.measurement_id field in the DB record.
<DT><B>Returns:</B><DD>true, if removed, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="getAllRawMeasurements(java.sql.Connection)"><!-- --></A><H3>
getAllRawMeasurements</H3>
<PRE>
public static java.util.List&lt;<A HREF="../fi/vtt/activitylogger/RawMeasurement.html" title="class in fi.vtt.activitylogger">RawMeasurement</A>&gt; <B>getAllRawMeasurements</B>(java.sql.Connection&nbsp;connection)
                                                            throws java.sql.SQLException</PRE>
<DL>
<DD>Get a list of all raw measurements (resolving references to other tables) from the routine database, to be returned by the
  .../rest/raw_measurements REST URL
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - The PostgreSQL 9.0/9.1 routine database connection.
<DT><B>Returns:</B><DD>A list of found raw_measurements (may be empty if none was found).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If problems arose with the query.</DL>
</DD>
</DL>
<HR>

<A NAME="insertMeasurementApplication(java.sql.Connection, long, long)"><!-- --></A><H3>
insertMeasurementApplication</H3>
<PRE>
public static boolean <B>insertMeasurementApplication</B>(java.sql.Connection&nbsp;connection,
                                                   long&nbsp;measurementId,
                                                   long&nbsp;applicationId)
                                            throws java.sql.SQLException</PRE>
<DL>
<DD>Insert a new measurement application record into the measurement_applications table of the routine_db
  (this table ties many applications to a single raw measurement)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - PostgreSQL connection.<DD><CODE>measurementId</CODE> - Database id of a raw measurement row (record).<DD><CODE>applicationId</CODE> - Reference to one of the application records.
<DT><B>Returns:</B><DD>true, if adding the reference was successful, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="hasRoutineClass(java.sql.Connection, fi.vtt.activitylogger.RoutineClass)"><!-- --></A><H3>
hasRoutineClass</H3>
<PRE>
public static boolean <B>hasRoutineClass</B>(java.sql.Connection&nbsp;connection,
                                      <A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A>&nbsp;routineClass)
                               throws java.sql.SQLException</PRE>
<DL>
<DD>Check for an existing routine class record from the routine_classes table of the routine_db data base
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>routineClass</CODE> - Java object containing the routine class values.
<DT><B>Returns:</B><DD>true, if insertion was successful, false otherwise (also if the exact record already existed as the records assume uniqueness).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="findRoutineClass(java.sql.Connection, int, java.lang.String, java.lang.String)"><!-- --></A><H3>
findRoutineClass</H3>
<PRE>
public static <A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A> <B>findRoutineClass</B>(java.sql.Connection&nbsp;connection,
                                            int&nbsp;typeId,
                                            java.lang.String&nbsp;routineClassName,
                                            java.lang.String&nbsp;deviceName)
                                     throws java.sql.SQLException</PRE>
<DL>
<DD>Fetch details of the named routine class from the database and return a Java instance of them
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - A postgreSQL database connection to the routine_db tables.<DD><CODE>typeId</CODE> - Types of routine classes desired: 0 = location routine, 1 = application routine and 2 = user defined and named (recognized)
               routine.<DD><CODE>routineClassName</CODE> - User given name for the routine class, for example "At home".<DD><CODE>deviceName</CODE> - Routine class owner device/user (hash).
<DT><B>Returns:</B><DD>Java object containing the routine class record values. Null is returned if the class is not found or some other error happens.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed. Also thrown if the device name is not found from the routine_db.</DL>
</DD>
</DL>
<HR>

<A NAME="insertRoutineClass(java.sql.Connection, fi.vtt.activitylogger.RoutineClass)"><!-- --></A><H3>
insertRoutineClass</H3>
<PRE>
public static long <B>insertRoutineClass</B>(java.sql.Connection&nbsp;connection,
                                      <A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A>&nbsp;routineClass)
                               throws java.sql.SQLException</PRE>
<DL>
<DD>Insert a new routine class into the routine DB
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>routineClass</CODE> - Values to insert except for the id which is ignored.
<DT><B>Returns:</B><DD>The id of the created routine class or -1 on insertion failure.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteRoutineClassById(java.sql.Connection, long)"><!-- --></A><H3>
deleteRoutineClassById</H3>
<PRE>
public static boolean <B>deleteRoutineClassById</B>(java.sql.Connection&nbsp;connection,
                                             long&nbsp;routineClassId)
                                      throws java.sql.SQLException</PRE>
<DL>
<DD>Remove a routine class record from the routine_db routine classes table
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>routineClassId</CODE> - The id of the routine class record.
<DT><B>Returns:</B><DD>true, if removed, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="findRoutineClassById(java.sql.Connection, int)"><!-- --></A><H3>
findRoutineClassById</H3>
<PRE>
public static <A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A> <B>findRoutineClassById</B>(java.sql.Connection&nbsp;connection,
                                                int&nbsp;routineClassId)
                                         throws java.sql.SQLException</PRE>
<DL>
<DD>Find routine class by its id from the routine_db database
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - PostgreSQL database connection.<DD><CODE>routineClassId</CODE> - Database id of a routine class row.
<DT><B>Returns:</B><DD>A new RoutineClass object initialized with the values taken from the database.
         Null is returned if the record with the id wasn't found.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If database errors take place.</DL>
</DD>
</DL>
<HR>

<A NAME="getAllRoutineClasses(java.sql.Connection)"><!-- --></A><H3>
getAllRoutineClasses</H3>
<PRE>
public static java.util.List&lt;<A HREF="../fi/vtt/activitylogger/RoutineClass.html" title="class in fi.vtt.activitylogger">RoutineClass</A>&gt; <B>getAllRoutineClasses</B>(java.sql.Connection&nbsp;connection)
                                                         throws java.sql.SQLException</PRE>
<DL>
<DD>Get a list of all routine classes (resolving references to other tables) from the routine database, to be returned by the
  .../rest/routine_classes REST URL
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - The PostgreSQL 9.0/9.1 routine database connection.
<DT><B>Returns:</B><DD>A list of found routine classes (may be empty if none was found).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If problems arose with the query.</DL>
</DD>
</DL>
<HR>

<A NAME="insertUserRoutine(java.sql.Connection, long, fi.vtt.activitylogger.UserRoutine)"><!-- --></A><H3>
insertUserRoutine</H3>
<PRE>
public static void <B>insertUserRoutine</B>(java.sql.Connection&nbsp;connection,
                                     long&nbsp;deviceId,
                                     <A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&nbsp;userRoutine)
                              throws java.sql.SQLException</PRE>
<DL>
<DD>Older way to insert user routine data into the database (not fully compliant with the intended routine_db use)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>deviceId</CODE> - Value of the device_id_fk in the DB record, pointing to devices.device_id field.<DD><CODE>userRoutine</CODE> - Java object containing the user routine record and reference data values.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="testInsertUserRoutine(java.sql.Connection, fi.vtt.activitylogger.UserRoutine)"><!-- --></A><H3>
testInsertUserRoutine</H3>
<PRE>
public static java.util.List&lt;<A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&gt; <B>testInsertUserRoutine</B>(java.sql.Connection&nbsp;connection,
                                                                <A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&nbsp;userRoutine)
                                                         throws java.sql.SQLException</PRE>
<DL>
<DD>Test inserting a POSTed (.../rest/user_routines/test) and GSON deserialized UserRoutine JSON object into the routine database TEMPORARILY and
  return all user routines (after that remove the added user routine and all the references it created)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - The PostgreSQL 9.0/9.1 routine database connection.
<DT><B>Returns:</B><DD>A list of found user routines (may be empty if none was found).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If unexpected problems arose with the query (which then produces an internal server error HTTP 500 response).
 <p>
  Referenced records in tables <i>devices<i>, <i>logger_applications<i>, <i>raw_measurements<i>, <i>routine_classes<i> and <i>application<i>
  are created implicitly as needed. The whole insertion takes place in a transaction block so everything is stored if data is fine but nothing
  is stored on error.
 </p>
 <p>
  It seems that COMMIT and ROLLBACK (or using a DB transaction in the first place) prevent the RETURNING command from returning any results!
  After COMMIT data is still saved into the database, though. Without transactions the insertion and return values work as expected.
  <b>So we cannot really implement this test method easily.</b>
 </p>
 <p>
  This method is now left unfinished. It just adds 'testInsertUserRoutine device name' to the devices table and returns that record for further
  processing into the user routines list (which obviously fails and makes the server return HTTP 500 Internal Server Error for the POST request).
 </p></DL>
</DD>
</DL>
<HR>

<A NAME="insertUserRoutine(java.sql.Connection, fi.vtt.activitylogger.UserRoutine)"><!-- --></A><H3>
insertUserRoutine</H3>
<PRE>
public static java.lang.String <B>insertUserRoutine</B>(java.sql.Connection&nbsp;connection,
                                                 <A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&nbsp;userRoutine)
                                          throws java.sql.SQLException</PRE>
<DL>
<DD>Insert a POSTed (.../rest/user_routines) and GSON deserialized UserRoutine JSON object into the routine database
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - The PostgreSQL 9.0/9.1 routine database connection.<DD><CODE>userRoutine</CODE> - Details of the user routine to add. Field <em>userRoutinesId</em> is updated to contain the actual DB id value when method
                    returns.
<DT><B>Returns:</B><DD>null if everything went well, text to describe problems (that can be shown to the end user) if not.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If unexpected problems arose with the query (which produces an internal server error HTTP 500 response).
 <p>This method replaces the earlier insertUserRoutine() above.</p>
 <p>
  Referenced records in tables <i>devices<i>, <i>logger_applications<i>, <i>raw_measurements<i>, <i>routine_classes<i> and <i>application<i>
  are created implicitly as needed. The whole insertion takes place in a transaction block so everything is stored if data is fine but nothing
  is stored on error.
 </p>
 <p>
  <b>Note:</b> This method calls other database manipulation methods in the <em>Queries</em> class from inside a transaction block.
  Therefore those other methods cannot use transactions themselves!
 </p></DL>
</DD>
</DL>
<HR>

<A NAME="deleteUserRoutine(java.sql.Connection, long)"><!-- --></A><H3>
deleteUserRoutine</H3>
<PRE>
public static boolean <B>deleteUserRoutine</B>(java.sql.Connection&nbsp;connection,
                                        long&nbsp;userRoutinesId)
                                 throws java.sql.SQLException</PRE>
<DL>
<DD>Remove a user routine record from the routine_db user_routines table
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - routine_db PostgreSQL connection.<DD><CODE>userRoutinesId</CODE> - Value of the user_routines.user_routines_id field in the DB record.
<DT><B>Returns:</B><DD>true, if removed, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="findUserRoutineById(java.sql.Connection, long)"><!-- --></A><H3>
findUserRoutineById</H3>
<PRE>
public static <A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A> <B>findUserRoutineById</B>(java.sql.Connection&nbsp;connection,
                                              long&nbsp;userRoutineId)
                                       throws java.sql.SQLException</PRE>
<DL>
<DD>Find a (momentary) user routine record by its id from the routine_db database with full context data from other DB tables
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - PostgreSQL database connection.<DD><CODE>userRoutineId</CODE> - Long value for index of one user routine entry.
<DT><B>Returns:</B><DD>A new UserRoutine object initialized with the values taken from the database. Null is returned if the name was not found.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If database errors take place.
 <p>
   Note that for the full context data, we may need to read some records following the requested index in order to construct the application
   use list properly.
 </p></DL>
</DD>
</DL>
<HR>

<A NAME="getAllUserRoutines(java.sql.Connection)"><!-- --></A><H3>
getAllUserRoutines</H3>
<PRE>
public static java.util.List&lt;<A HREF="../fi/vtt/activitylogger/UserRoutine.html" title="class in fi.vtt.activitylogger">UserRoutine</A>&gt; <B>getAllUserRoutines</B>(java.sql.Connection&nbsp;connection)
                                                      throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="findMcc(java.sql.Connection, int)"><!-- --></A><H3>
findMcc</H3>
<PRE>
public static <A HREF="../fi/vtt/activitylogger/Mcc.html" title="class in fi.vtt.activitylogger">Mcc</A> <B>findMcc</B>(java.sql.Connection&nbsp;connection,
                          int&nbsp;code)
                   throws java.sql.SQLException</PRE>
<DL>
<DD>Find mcc (mobile country code) details by its number from the routine_db database
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - PostgreSQL database connection.<DD><CODE>code</CODE> - Integer value for one user routine class.
<DT><B>Returns:</B><DD>A new Mcc object initialized with the values taken from the database. Null is returned if the name was not found.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - If database or connection errors take place.</DL>
</DD>
</DL>
<HR>

<A NAME="getAllMccs(java.sql.Connection)"><!-- --></A><H3>
getAllMccs</H3>
<PRE>
public static java.util.List&lt;<A HREF="../fi/vtt/activitylogger/Mcc.html" title="class in fi.vtt.activitylogger">Mcc</A>&gt; <B>getAllMccs</B>(java.sql.Connection&nbsp;connection)
                                      throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="insertNewLearnedRoutine(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RoutineData)"><!-- --></A><H3>
insertNewLearnedRoutine</H3>
<PRE>
public static void <B>insertNewLearnedRoutine</B>(java.sql.Connection&nbsp;connection,
                                           long&nbsp;deviceId,
                                           <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApplication,
                                           <A HREF="../fi/vtt/routinelib/common/RoutineData.html" title="class in fi.vtt.routinelib.common">RoutineData</A>&nbsp;routineData)
                                    throws java.sql.SQLException</PRE>
<DL>
<DD>A method stub for adding a new learned (user defined) routine and a corresponding routine class into the routine_db database
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - A postgreSQL database connection to the routine_db tables.<DD><CODE>deviceId</CODE> - Value of the routine_classes.owner_device_id_fk in the DB record, pointing to devices.device_id field.<DD><CODE>loggerApplication</CODE> - The logger application record values as a Java object (REST compliant version of the class).<DD><CODE>routineData</CODE> - The user routine record values as a Java object (not the REST compliant version of the class).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="insertNewRecogizedRoutine(java.sql.Connection, long, fi.vtt.activitylogger.LoggerApplication, fi.vtt.routinelib.common.RoutineData)"><!-- --></A><H3>
insertNewRecogizedRoutine</H3>
<PRE>
public static void <B>insertNewRecogizedRoutine</B>(java.sql.Connection&nbsp;connection,
                                             long&nbsp;deviceId,
                                             <A HREF="../fi/vtt/activitylogger/LoggerApplication.html" title="class in fi.vtt.activitylogger">LoggerApplication</A>&nbsp;loggerApplication,
                                             <A HREF="../fi/vtt/routinelib/common/RoutineData.html" title="class in fi.vtt.routinelib.common">RoutineData</A>&nbsp;routineData)
                                      throws java.sql.SQLException</PRE>
<DL>
<DD>A method stub for adding a new entry for a previously leaned (user defined) routine into the routine_db database
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - A postgreSQL database connection to the routine_db tables.<DD><CODE>deviceId</CODE> - Value of the routine_classes.owner_device_id_fk in the DB record, pointing to devices.device_id field.<DD><CODE>loggerApplication</CODE> - The logger application record values as a Java object (REST compliant version of the class).<DD><CODE>routineData</CODE> - The user routine record values as a Java object (not the REST compliant version of the class).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<HR>

<A NAME="executeSql(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
executeSql</H3>
<PRE>
public static void <B>executeSql</B>(java.sql.Connection&nbsp;connection,
                              java.lang.String&nbsp;sql)
                       throws java.sql.SQLException</PRE>
<DL>
<DD>Run the provided SQL sequence
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - A postgreSQL database connection to the routine_db tables.<DD><CODE>sql</CODE> - SQL text (commands&data).
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - The query or DB connection failed.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Queries.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../db/ConditionalAccess.html" title="class in db"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../db/ReceiversCommon.html" title="class in db"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?db/Queries.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Queries.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
